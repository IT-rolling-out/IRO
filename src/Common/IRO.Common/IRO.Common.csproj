<Project Sdk="Microsoft.NET.Sdk">
  <Import Project="..\build\Local.BeforeBuild.props" />

  <PropertyGroup>
    <TargetFramework>netstandard2.0</TargetFramework>
    <Version>$(AsmVersion_Common)</Version>
    <Description>Обшие инструменты в сборке Common. Есть сервисы с часто используемыми методами работы с текстом, для упрощения работы с встроенными ресурсами, файловой системой, сетью, сервис для запуска процессов в .net core приложении, сервис для поиска исключений внутри других исключений (включая AggregateException).
      Есть generic Tree.
</Description>
    <PackageIconUrl>https://gitlab.com/KogerCoder/sharedresources/raw/master/iro_nuget_logo.png</PackageIconUrl>
    <GeneratePackageOnBuild>true</GeneratePackageOnBuild>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Newtonsoft.Json" Version="12.0.1-beta1" />
  </ItemGroup>

  <Import Project="..\build\Local.AfterBuild.props" />

  <Target Name="PostBuild" AfterTargets="PostBuildEvent">
    <Exec Command="echo.&#xD;&#xA;echo ----- AFTER BUILDING SCRIPT STARTED ----- &#xD;&#xA;echo CREATING NUPKG FILE&#xD;&#xA;dotnet pack $(ProjectDir) -c $(Configuration) --no-build&#xD;&#xA;cd ..\..\..\scripts&#xD;&#xA;call copy_nupkgs__build_event $(OutDir) $(ProjectDir) $(Configuration)&#xD;&#xA;pushd $(ProjectDir)&#xD;&#xA;echo Delete own nupkg.&#xD;&#xA;set BuildDir=$(ProjectDir)bin\$(Configuration)&#xD;&#xA;echo %BuildDir%&#xD;&#xA;call FORFILES /P &quot;%BuildDir%&quot; /M &quot;*.nupkg&quot; /S /C &quot;cmd /c del @file&quot;&#xD;&#xA;echo ----- BUILDING SCRIPT FINISHED -----&#xD;&#xA;echo." />
  </Target>
</Project>
